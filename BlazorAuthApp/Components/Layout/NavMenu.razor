@rendermode InteractiveServer
<div class="smart-sidebar @(isSidebarCollapsed ? "collapsed" : "")">
    <nav class="flex-column">
        <div class="nav-item">
            <NavLink class="nav-link" href="/" Match="NavLinkMatch.All">
                <i class="fas fa-home"></i>
                <span class="nav-text">الرئيسية</span>
            </NavLink>
        </div>

        <div class="nav-item">
            <NavLink class="nav-link" href="/chat">
                <i class="fas fa-comments"></i>
                <span class="nav-text">المحادثة</span>
            </NavLink>
        </div>

        <div class="nav-item">
            <NavLink class="nav-link" href="/calendar">
                <i class="fas fa-calendar-alt"></i>
                <span class="nav-text">تقويم الجامعة</span>
            </NavLink>
        </div>

        <div class="nav-item">
            <NavLink class="nav-link" href="/backup">
                <i class="fas fa-database"></i>
                <span class="nav-text">النسخ الاحتياطي</span>
            </NavLink>
        </div>
    </nav>
</div>

<style>
    .smart-sidebar {
        background-color: #f8f9fa;
        min-height: 100vh;
        border-left: 1px solid #dee2e6;
        transition: width 0.3s;
    }

    .nav-link {
        display: flex !important;
        align-items: center !important;
        padding: 12px 20px !important;
        border-radius: 8px !important;
        margin: 8px 12px !important;
        color: #344767 !important;
        font-weight: 500;
        text-decoration: none !important;
        transition: all 0.2s ease-in-out;
    }

        .nav-link i {
            margin-left: 12px;
            width: 24px;
            text-align: center;
            color: #5e72e4;
        }

        .nav-link:hover {
            background-color: #e2e6f3 !important;
            color: #324cdd !important;
        }

        .nav-link.active {
            background-color: #5e72e4 !important;
            color: white !important;
        }

            .nav-link.active i {
                color: white;
            }

    .collapsed .nav-text {
        display: none !important;
    }

    .collapsed .nav-link {
        justify-content: center !important;
        padding: 16px 10px !important;
        margin: 6px 5px !important;
    }

    .collapsed .nav-item i {
        margin-left: 0 !important;
        font-size: 1.4rem;
    }
</style>

@code {
    private bool isSidebarCollapsed = false;

    [CascadingParameter]
    public bool IsSidebarCollapsedFromParent { get; set; }

    protected override void OnInitialized()
    {
        isSidebarCollapsed = IsSidebarCollapsedFromParent;
    }

    protected override void OnParametersSet()
    {
        isSidebarCollapsed = IsSidebarCollapsedFromParent;
    }
}
