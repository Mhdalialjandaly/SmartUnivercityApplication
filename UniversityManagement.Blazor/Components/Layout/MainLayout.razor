@inherits LayoutComponentBase

<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>الجامعة الذكية - لوحة التحكم</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- ملفات CSS الأساسية -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/atlantis.min.css" />

    <!-- ملف CSS للعرض التوضيحي فقط -->
    <link rel="stylesheet" href="assets/css/demo.css" />

    <link rel="stylesheet" href="app.css" />
</head>
<body data-background-color="dark">
    <div class="wrapper">
        <AuthorizeView>
            <Authorized>
                <!-- رأس الصفحة (Header) -->
                <div class="main-header">
                    <!-- شعار الصفحة (Logo Header) -->
                    <div class="logo-header" data-background-color="dark2">
                        <a href="/" class="logo">
                            <img src="assets/img/logo.svg" alt="شعار الجامعة" class="navbar-brand" />
                        </a>

                        <!-- أزرار التحكم في الشريط الجانبي -->
                        <button class="navbar-toggler sidenav-toggler ml-auto" type="button" data-bs-toggle="collapse" data-bs-target="#collapse" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"><i class="icon-menu"></i></span>
                        </button>
                        <button class="topbar-toggler more"><i class="icon-options-vertical"></i></button>
                        <div class="nav-toggle">
                            <button class="btn btn-toggle toggle-sidebar">
                                <i class="icon-menu"></i>
                            </button>
                        </div>
                    </div>
                    <!-- نهاية شعار الصفحة -->
                    <!-- شريط التنقل العلوي (Navbar) -->
                    <nav class="navbar navbar-header navbar-expand-lg" data-background-color="dark">
                        <div class="container-fluid">
                            <!-- حقل البحث -->
                            <div class="collapse" id="search-nav">
                                <form class="navbar-left navbar-form nav-search mr-md-3">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <button type="submit" class="btn btn-search pr-1">
                                                <i class="fa fa-search search-icon"></i>
                                            </button>
                                        </div>
                                        <input type="text" placeholder="ابحث ..." class="form-control" />
                                    </div>
                                </form>
                            </div>

                            <!-- قائمة الإشعارات والملف الشخصي -->
                            <ul class="navbar-nav topbar-nav ms-auto align-items-center">
                                <!-- زر البحث -->
                                <li class="nav-item toggle-nav-search hidden-caret">
                                    <a class="nav-link" data-bs-toggle="collapse" href="#search-nav" role="button" aria-expanded="false" aria-controls="search-nav">
                                        <i class="fa fa-search"></i>
                                    </a>
                                </li>

                                <!-- رسائل -->
                                <li class="nav-item dropdown hidden-caret">
                                    <a class="nav-link dropdown-toggle" href="#" id="messageDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fa fa-envelope"></i>
                                    </a>
                                    <ul class="dropdown-menu messages-notif-box animated fadeIn" aria-labelledby="messageDropdown">
                                        <li>
                                            <div class="dropdown-title d-flex justify-content-between align-items-center">
                                                <span>الرسائل</span>
                                                <div>
                                                    <a href="#" class="small">تحديد الكل كمقروء</a>
                                                    <a href="/chat" class="small d-block">الانتقال لواجهة المحادثة</a>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="message-notif-scroll scrollbar-outer">
                                                <div class="notif-center">
                                                    <a href="#" class="dropdown-item">
                                                        <div class="notif-img">
                                                            <img src="assets/img/jm_denis.jpg" alt="صورة المستخدم" />
                                                        </div>
                                                        <div class="notif-content">
                                                            <span class="subject">جيمي دينيس</span>
                                                            <span class="block">كيف حالك؟</span>
                                                            <span class="time">منذ 5 دقائق</span>
                                                        </div>
                                                    </a>
                                                    <a href="#" class="dropdown-item">
                                                        <div class="notif-img">
                                                            <img src="assets/img/chadengle.jpg" alt="صورة المستخدم" />
                                                        </div>
                                                        <div class="notif-content">
                                                            <span class="subject">تشارلز</span>
                                                            <span class="block">حسناً، شكراً!</span>
                                                            <span class="time">منذ 12 دقيقة</span>
                                                        </div>
                                                    </a>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <a class="see-all dropdown-item" href="javascript:void(0);">عرض جميع الرسائل <i class="fa fa-angle-right"></i></a>
                                        </li>
                                    </ul>
                                </li>

                                <!-- إشعارات -->
                                <li class="nav-item dropdown hidden-caret">
                                    <a class="nav-link dropdown-toggle" href="#" id="notifDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fa fa-bell"></i>
                                        <span class="notification">4</span>
                                    </a>
                                    <ul class="dropdown-menu notif-box animated fadeIn" aria-labelledby="notifDropdown">
                                        <li>
                                            <div class="dropdown-title">لديك 4 إشعارات جديدة</div>
                                        </li>
                                        <li>
                                            <div class="notif-scroll scrollbar-outer">
                                                <div class="notif-center">
                                                    <a href="#" class="dropdown-item">
                                                        <div class="notif-icon notif-primary"><i class="fa fa-user-plus"></i></div>
                                                        <div class="notif-content">
                                                            <span class="block">مستخدم جديد مسجل</span>
                                                            <span class="time">منذ 5 دقائق</span>
                                                        </div>
                                                    </a>
                                                    <a href="#" class="dropdown-item">
                                                        <div class="notif-icon notif-success"><i class="fa fa-comment"></i></div>
                                                        <div class="notif-content">
                                                            <span class="block">علّق رحمة على لوحة التحكم</span>
                                                            <span class="time">منذ 12 دقيقة</span>
                                                        </div>
                                                    </a>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <a class="see-all dropdown-item" href="javascript:void(0);">عرض جميع الإشعارات <i class="fa fa-angle-right"></i></a>
                                        </li>
                                    </ul>
                                </li>

                                <!-- اختصارات سريعة -->
                                <li class="nav-item dropdown hidden-caret">
                                    <a class="nav-link" data-bs-toggle="dropdown" href="#" aria-expanded="false">
                                        <i class="fas fa-layer-group"></i>
                                    </a>
                                    <div class="dropdown-menu quick-actions quick-actions-info animated fadeIn">
                                        <div class="quick-actions-header">
                                            <div class="header-content">
                                                <h6 class="title">الإجراءات السريعة</h6>
                                                <p class="subtitle">اختصارات سريعة للوصول الفوري</p>
                                            </div>
                                        </div>
                                        <div class="quick-actions-scroll">
                                            <div class="quick-actions-items">
                                                <div class="row g-0">
                                                    <a class="col-6 col-md-4 p-0" href="/students/add">
                                                        <div class="quick-action-item">
                                                            <div class="action-icon bg-primary-light">
                                                                <i class="fas fa-user-plus"></i>
                                                            </div>
                                                            <span class="action-text">إضافة طالب</span>
                                                        </div>
                                                    </a>
                                                    <a class="col-6 col-md-4 p-0" href="/academic/courses">
                                                        <div class="quick-action-item">
                                                            <div class="action-icon bg-success-light">
                                                                <i class="fas fa-book"></i>
                                                            </div>
                                                            <span class="action-text">إدارة المواد</span>
                                                        </div>
                                                    </a>
                                                    <a class="col-6 col-md-4 p-0" href="/schedule-management">
                                                        <div class="quick-action-item">
                                                            <div class="action-icon bg-info-light">
                                                                <i class="fas fa-calendar-alt"></i>
                                                            </div>
                                                            <span class="action-text">جدول المحاضرات</span>
                                                        </div>
                                                    </a>
                                                    <a class="col-6 col-md-4 p-0" href="/lecturers/list">
                                                        <div class="quick-action-item">
                                                            <div class="action-icon bg-warning-light">
                                                                <i class="fas fa-chalkboard-teacher"></i>
                                                            </div>
                                                            <span class="action-text">قائمة الأساتذة</span>
                                                        </div>
                                                    </a>
                                                    <a class="col-6 col-md-4 p-0" href="/analytics/grades">
                                                        <div class="quick-action-item">
                                                            <div class="action-icon bg-danger-light">
                                                                <i class="fas fa-chart-line"></i>
                                                            </div>
                                                            <span class="action-text">تحليل الدرجات</span>
                                                        </div>
                                                    </a>
                                                    <a class="col-6 col-md-4 p-0" href="/library/search">
                                                        <div class="quick-action-item">
                                                            <div class="action-icon bg-purple-light">
                                                                <i class="fas fa-search"></i>
                                                            </div>
                                                            <span class="action-text">بحث في المكتبة</span>
                                                        </div>
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <!-- الملف الشخصي -->
                                <li class="nav-item dropdown hidden-caret">
                                    <a class="dropdown-toggle profile-pic" data-bs-toggle="dropdown" href="#" aria-expanded="false">
                                        <div class="avatar-sm">
                                            <img src="profile.jpg" alt="الملف الشخصي" class="avatar-img rounded-circle" />
                                        </div>
                                    </a>
                                    <ul class="dropdown-menu dropdown-user animated fadeIn">
                                        <div class="dropdown-user-scroll scrollbar-outer">
                                        <li>
                                            <div class="user-box">
                                                <div class="avatar-lg">
                                                    <img src="favicon.png" alt="الصورة الشخصية" class="avatar-img rounded" />
                                                </div>
                                                <div class="u-text">
                                                    <h4>@context.User?.Identity?.Name</h4>
                                                    <p class="text-muted">@context.User?.Identity?.Name</p>
                                                    <a href="favicon.png" class="btn btn-xs btn-secondary btn-sm">عرض الملف</a>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="dropdown-divider"></div>
                                            <a class="dropdown-item" href="favicon.png">ملفي الشخصي</a>
                                            <a class="dropdown-item" href="/Account/Register">تسجيل جديد</a>
                                            <a class="dropdown-item" href="settings.html">إعدادات الحساب</a>
                                            <div class="dropdown-divider"></div>
                                            <a class="dropdown-item" href="logout">تسجيل الخروج</a>
                                        </li>
                        </div>
                        </ul>
                        </li>
                        </ul>
                </div>
                </nav>
                <!-- نهاية شريط التنقل -->
                <!-- القائمة الجانبية -->
                <NavMenu />
    </div>
    <!-- نهاية Navbar -->
    </Authorized>
    </AuthorizeView>

    <!-- محتوى الصفحة -->
    <div class="main-panel">
        <div class="content">
                @Body
        </div>
    </div>

    </div>

    <!-- ملفات JavaScript الأساسية -->
    <script src="assets/js/core/jquery.3.2.1.min.js"></script>
    <script src="assets/js/core/popper.min.js"></script>
    <script src="assets/js/core/bootstrap.min.js"></script>

    <!-- jQuery UI -->
    <script src="assets/js/plugin/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
    <script src="assets/js/plugin/jquery-ui-touch-punch/jquery.ui.touch-punch.min.js"></script>

    <!-- jQuery Scrollbar -->
    <script src="assets/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js"></script>

    <!-- المخططات والرسوم البيانية -->
    <script src="assets/js/plugin/chart.js/chart.min.js"></script>
    <script src="assets/js/plugin/jquery.sparkline/jquery.sparkline.min.js"></script>
    <script src="assets/js/plugin/chart-circle/circles.min.js"></script>

    <!-- الجداول -->
    <script src="assets/js/plugin/datatables/datatables.min.js"></script>

    <!-- الإشعارات -->
    <script src="assets/js/plugin/bootstrap-notify/bootstrap-notify.min.js"></script>

    <!-- Sweet Alert -->
    <script src="assets/js/plugin/sweetalert/sweetalert.min.js"></script>

    <!-- نظام Atlantis -->
    <script src="assets/js/atlantis.min.js"></script>

    <!-- ملفات تجريبية -->
    <script src="assets/js/setting-demo.js"></script>
    <script src="assets/js/demo.js"></script>

    <script>
        // تهيئة Sparkline
        document.addEventListener('DOMContentLoaded', function () {
            if ($('#lineChart').length) {
                $('#lineChart').sparkline([102, 109, 120, 99, 110, 105, 115], {
                    type: 'line',
                    height: '70',
                    width: '100%',
                    lineWidth: '2',
                    lineColor: 'rgba(255, 255, 255, .5)',
                    fillColor: 'rgba(255, 255, 255, .15)'
                });
            }

            if ($('#lineChart2').length) {
                $('#lineChart2').sparkline([99, 125, 122, 105, 110, 124, 115], {
                    type: 'line',
                    height: '70',
                    width: '100%',
                    lineWidth: '2',
                    lineColor: 'rgba(255, 255, 255, .5)',
                    fillColor: 'rgba(255, 255, 255, .15)'
                });
            }

            if ($('#lineChart3').length) {
                $('#lineChart3').sparkline([105, 103, 123, 100, 95, 105, 115], {
                    type: 'line',
                    height: '70',
                    width: '100%',
                    lineWidth: '2',
                    lineColor: 'rgba(255, 255, 255, .5)',
                    fillColor: 'rgba(255, 255, 255, .15)'
                });
            }
        });
    </script>
</body>
</html>

@code {
    private bool darkMode = false;

    private void ToggleDarkMode()
    {
        darkMode = !darkMode;
        // يمكنك إضافة منطق لتغيير السمة هنا
    }
}